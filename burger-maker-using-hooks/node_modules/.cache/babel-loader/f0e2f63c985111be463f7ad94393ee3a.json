{"ast":null,"code":"var _jsxFileName = \"/Users/mk/Desktop/Udemy/React/react-applications/burger-maker-using-hooks/src/features/hoc/WithErrorHandler/WithErrorHandler.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport ModelComponent from '../../Components/UIElments/Model/ModelComponent';\nimport Aux from '../Aux';\n\nconst WithErrorHandlerComponent = (WrappedComponent, axios) => {\n  // WithErrorHandlerComponent\n  return props => {\n    const [error, seterror] = useState(null);\n    useEffect(() => {\n      return () => {\n        axios.interceptors.request.eject(reqInterceptor);\n        axios.interceptors.response.eject(resInterceptor);\n      };\n    }, [reqInterceptor, resInterceptor]);\n    const reqInterceptor = axios.interceptors.request.use(req => {\n      seterror(null);\n      return req;\n    });\n    const resInterceptor = axios.interceptors.response.use(res => res, errorRef => {\n      seterror(errorRef);\n    });\n\n    const errorActionHandler = () => {\n      seterror(null);\n    };\n\n    return React.createElement(Aux, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(ModelComponent, {\n      modalClosed: errorActionHandler,\n      showModal: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, error ? error.message : null), React.createElement(WrappedComponent, Object.assign({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    })));\n  };\n};\n\nexport default WithErrorHandlerComponent;","map":{"version":3,"sources":["/Users/mk/Desktop/Udemy/React/react-applications/burger-maker-using-hooks/src/features/hoc/WithErrorHandler/WithErrorHandler.js"],"names":["React","Component","useState","useEffect","ModelComponent","Aux","WithErrorHandlerComponent","WrappedComponent","axios","props","error","seterror","interceptors","request","eject","reqInterceptor","response","resInterceptor","use","req","res","errorRef","errorActionHandler","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AAEA,OAAOC,cAAP,MAA2B,iDAA3B;AACA,OAAOC,GAAP,MAAgB,QAAhB;;AAEA,MAAMC,yBAAyB,GAAG,CAACC,gBAAD,EAAmBC,KAAnB,KAA6B;AAC7D;AACA,SAAQC,KAAD,IAAW;AAChB,UAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AAGAC,IAAAA,SAAS,CAAC,MAAM;AACd,aAAO,MAAM;AACXK,QAAAA,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,KAA3B,CAAiCC,cAAjC;AACAP,QAAAA,KAAK,CAACI,YAAN,CAAmBI,QAAnB,CAA4BF,KAA5B,CAAkCG,cAAlC;AACD,OAHD;AAID,KALQ,EAKN,CAACF,cAAD,EAAiBE,cAAjB,CALM,CAAT;AAOA,UAAMF,cAAc,GAAGP,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BK,GAA3B,CAAgCC,GAAD,IAAS;AAC7DR,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,aAAOQ,GAAP;AACD,KAHsB,CAAvB;AAIA,UAAMF,cAAc,GAAGT,KAAK,CAACI,YAAN,CAAmBI,QAAnB,CAA4BE,GAA5B,CAAiCE,GAAD,IAASA,GAAzC,EAA+CC,QAAD,IAAc;AACjFV,MAAAA,QAAQ,CAACU,QAAD,CAAR;AACD,KAFsB,CAAvB;;AAIA,UAAMC,kBAAkB,GAAG,MAAM;AAC/BX,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFD;;AAIA,WACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,cAAD;AAAgB,MAAA,WAAW,EAAEW,kBAA7B;AAAiD,MAAA,SAAS,EAAEZ,KAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,KAAK,GAAGA,KAAK,CAACa,OAAT,GAAmB,IAD3B,CADF,EAKE,oBAAC,gBAAD,oBAAsB,KAAKd,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OALF,CADF;AAUD,GAjCD;AAkCD,CApCD;;AAsCA,eAAeH,yBAAf","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\n\nimport ModelComponent from '../../Components/UIElments/Model/ModelComponent';\nimport Aux from '../Aux';\n\nconst WithErrorHandlerComponent = (WrappedComponent, axios) => {\n  // WithErrorHandlerComponent\n  return (props) => {\n    const [error, seterror] = useState(null);\n\n\n    useEffect(() => {\n      return () => {\n        axios.interceptors.request.eject(reqInterceptor);\n        axios.interceptors.response.eject(resInterceptor);\n      }\n    }, [reqInterceptor, resInterceptor]);\n    \n    const reqInterceptor = axios.interceptors.request.use((req) => {\n      seterror(null);\n      return req;\n    });\n    const resInterceptor = axios.interceptors.response.use((res) => res, (errorRef) => {\n      seterror(errorRef);\n    });\n\n    const errorActionHandler = () => {\n      seterror(null);\n    }\n    \n    return (\n      <Aux>\n        <ModelComponent modalClosed={errorActionHandler} showModal={error}>\n          {error ? error.message : null}\n        </ModelComponent>\n\n        <WrappedComponent {...this.props}/>\n      </Aux>\n    );\n  \n  }\n}\n\nexport default WithErrorHandlerComponent;"]},"metadata":{},"sourceType":"module"}